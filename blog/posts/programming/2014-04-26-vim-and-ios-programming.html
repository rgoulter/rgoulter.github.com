<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Vim and iOS Programming - Richard Goulter's Blog</title>

        <!-- My (Old) CSS theme -->
        <link rel="stylesheet" type="text/css" href="../../css/default.css" />

        <!--
            jQuery & jQueryUI
        -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script src="https://code.jquery.com/ui/1.11.3/jquery-ui.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.11.3/themes/smoothness/jquery-ui.css" />

        <!--
            Pandoc Style CSS
            (for syntax highlighted snippets)
        -->
        <link rel="stylesheet" type="text/css" href="../../css/syntax.css" />

        <!--
            Bootstrap
        -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

        <style>
            /*
             * Bootstrap defines blockquote as 17px,
             * so it looks stupidly large in my blogposts. */
            blockquote {
                font-size: 14px;
            }
        </style>

        <!--
            Waypoints, and Waypoints-Sticky,
            so we can do this:
            http://imakewebthings.com/waypoints/shortcuts/sticky-elements/
        -->
        <script src="../../js/jquery.waypoints.min.js"></script>
        <script src="../../js/sticky.min.js"></script>

        <!-- My analytics stuff -->
        <script src="../../js/my_analytics.js"></script>
        <script src="../../js/my_analytics_debug.js"></script>

        <!--
            TOCify
        -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js"></script>
        <!--
            Patched TOCify css file.
            (Don't want fixed `.tocify`).
        -->
        <link rel="stylesheet" type="text/css" href="../../css/jquery.tocify.css" />

        <style>
        .navbar {
            margin-bottom: 0px;
        }

        .banner-image {
            width:100%;
        }

        .banner {
            margin-left: 0px;
            margin-right: 0px;
        }

        body {
            background-color: #e2e2e2;
        }

        #page {
            padding-left:0;
            padding-right:0;
            background-color: #ffffff;
        }
        </style>

        <!-- Google Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-73116015-1', 'auto');
          ga('send', 'pageview');
        </script>
    </head>
    <body>
        <div id="page" class="container">
            <!-- This, with no padding on left/right -->
            <div class="banner">
                <nav class="navbar navbar-default">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>

            <!-- The Hamburger -->
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../">Richard Goulter's Blog</a>
    </div>

    <div class="collapse navbar-collapse" id="navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
            <li><a href="../../">Home</a></li>
            <li><a href="../../yi.html">Yi</a></li>
            <li><a href="../../emacs.html">Emacs</a></li>
            <li><a href="../../archive.html">Archive</a></li>
        </ul>
    </div>
</nav>

            </div>

            <hr style="margin: 0px; border-top: 5px solid black;" />

            <div id="content" class="container">
                <h1>Vim and iOS Programming</h1>
                <div class="info">
    Posted on April 26, 2014
    
        by richardgoulter
    <br />
    
    Tags: <a href="../../tags/programming.editors.html">programming.editors</a>, <a href="../../tags/programming.vim.html">programming.vim</a>, <a href="../../tags/programming.ios.html">programming.ios</a>, <a href="../../tags/programming.linkdump.html">programming.linkdump</a>
    
</div>

<p>This last semester I’ve been having to do iOS programming.</p>
<p>I’m not an expert Vim user, but I use Vim enough such that, without being overzealous, I found I really missed the motion keys and other such things.</p>
<p>Others have gone before me on this topic. <a href="http://ap4y.github.io/2013/11/10/vim-for-ios-developers.html">Here</a>, <a href="http://appventure.me/2013/01/29/use-vim-as-xcode-alternative-ios-mac-cocoa/">here</a>, <a href="http://blog.patspam.com/2014/vim-objc-code-completion">here</a>; (and the <em>other</em> text editor has some stuff like <a href="http://roupam.github.io/">here</a>).</p>
<p>Fortunately for at least that much, the <a href="https://github.com/JugglerShu/XVim">XVim plugin</a> for XCode works reasonably well for emulating the core Vim features for manipulating text, while still allowing for XCode’s other features like autocompletion and debugging. (Every now and then these would slightly collide, but the convenience of motion commands outweighs the inconveniences you’ll run into if not too careful. - The biggest problem I encountered was the conflict between XCode’s parameter-filling in with like <em>&lt;# int #&gt;</em> or so).</p>
<p>- But, honestly, while Vim emulation is much more powerful than having to make the expense of using a mouse, what I really missed from Vim was fuzzy autocompletion (with <a href="https://github.com/Valloric/YouCompleteMe">YouCompleteMe</a>). “fuzzy autocompletion” is great. The “autocompletion” part I’m sure we all understand. XCode has that. It’s a big advantage in using IDEs. The “fuzzy” bit may be less common; to the layman it you could describe it as “matching by taking some of the letters, in order”. Well. It’s a subsequence, anyway. So rather than matching <strong>getL</strong>ength as <strong>getL</strong>, you could match with <strong>glth</strong> (<strong>g</strong>et<strong>L</strong>eng<strong>th</strong>) instead. Well. Just look at the gif on the link above. It’s super-cool, by way of being super useful. [EDIT: If I do want fuzzy autocomplete in XCode, this looks like a plugin/patch which can achieve that].</p>
<p>(To play devil’s advocate; if you remember the name of the method, you should probably be able to type it out quicker than if you’re using autocomplete; with autocomplete, it takes time to stop and look at a list of candidate options; then time to figure out whether it’d be quicker to type more letters to narrow down candidates, or scroll through the list to what you want).</p>
<p>When I say to my peers I want to use Vim, it’s only half-right for them to point to Vim emulation. More than the core Vim stuff, I want my Vim plugins; the Vim I’ve spent time configuring to be <em>my</em> editor. (It’s said of pens with nibs, that after enough use the nib has worn down to match your writing style, so in a way it’s uniquely your pen and not anyone else’s).</p>
<p>The biggest trouble right now for setting up Vim with XCode is the autocompletion. Interface Development is not something Vim will easily be able to handle. In theory the hardcore could just edit the Storyboard xml raw, I suppose. Debugging also deserves some consideration. (ap4y’s writeup mentions this, in particular the vim-lldb plugin). But it’s easier to just consider to do it in XCode. (or from the command-line’s lldb using <a href="https://github.com/phonegap/ios-deploy">ios-deploy</a>, say).</p>
<p>Autocompletion. Vim’s YCM can do autocompletion if given a compile_commands.json. The easiest way to generate this file is using the oclint-xcodebuild tool. (<a href="http://blog.patspam.com/2014/vim-objc-code-completion">Here is a writeup</a> with a detailed discussion on how to do this).</p>
<p>But, as ap4y discusses <a href="https://github.com/Valloric/YouCompleteMe/issues/84#issuecomment-29862144">here</a>, Vim’s YCM at the moment isn’t very good at Objective-C completion. It seems to me the biggest thing YCM lacks is described by <a href="https://github.com/Valloric/YouCompleteMe/issues/234">YCM/Issue#234</a>, “better argument completion”. – The user who reported that issue <a href="https://github.com/oblitum/YouCompleteMe/tree/clang_complete-params">forked YCM and has a branch</a> wherein the hack a solution together to get “argument completion” for the Clang things. (C/C++/Objective-C/etc.). - I’ve not given it a good try, but this seems, at the moment, the best option for what I’m after here.</p>
<p>Aside from Vim’s YCM, the best way to get autocompletion for Objective-C appears to be <a href="https://github.com/Rip-Rip/clang_complete">the clang_complete plugin</a>. I wasn’t able to get this working as for how I was hoping for (pressing Ctrl-X Ctrl-O is too much for autocomplete!); but might also be worth a try.</p>
<p>In conclusion, I think until YCM’s Objective-C improves then XCode + XVim seems the safest bet. It appears that with some difficulty it is possible to get Vim working with an XCode/iOS project.</p>


<hr />

<div>
    
    <a href="../../posts/programming/2014-04-29-neovim.html" style="float:left;">Newer post</a>
    
    
    <a href="../../posts/programming/2014-04-26-tools.html" style="float:right; text-align: right;">Older post</a>
    
</div>
<br style="clear: both;" />

<hr />

<!-- Load highlight.js for Syntax Highlighting. -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_light.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


            </div>

            <hr style="margin-bottom: 0px; border-top: 2px solid black;" />

            <div id="footer" class="pull-right" style="padding-right: 10px;">
                Site proudly generated by
                <a href="http://jaspervdj.be/hakyll">Hakyll</a>
            </div>
        </div>

        <script>
            // The callbacks we wanna use
            // Phone-home, telling Google Analytics various metrics/dimensions

            // Use custom dimensions & metrics
            var AnalyticDimensionReaderKind = 'dimension1';
            var AnalyticMetricActiveTime      = 'metric1';
            var AnalyticMetricLongestIdleTime = 'metric2';
            var AnalyticMetricReadCount       = 'metric3';

            var gaCallbacks = {
                "scrollPercent": function(ms, perc) {
                    if (perc > 85) {
                        // EVENT: Page read
                        ga('send', {
                            hitType:       'event',
                            eventCategory: 'Scrolling',
                            eventAction:   'atBottom',
                            eventValue:    String(ms)
                        });
                    }
                },
                "read": function(ms, ct, timeToReach) {
                    // Use this to set DIMENSION
                    // timeToReach < 5s ==> Skim (default = Visitor)
                    if (timeToReach < 5 * 1000) {
                        // dimension1 = ReaderKind
                        ga('set', AnalyticDimensionReaderKind, "skimmer");
                    }

                    // timeToReach > 30s ==> Reader
                    if (timeToReach > 30 * 1000) {
                        // dimension1 = ReaderKind
                        ga('set', AnalyticDimensionReaderKind, "reader");
                    }

                    // EVENT: Page read
                    ga('send', {
                        hitType:       'event',
                        eventCategory: 'Reading',
                        eventAction:   'read',
                        eventValue:    String(timeToReach)
                    });

                    // METRIC
                    ga('set', AnalyticMetricReadCount, String(ct));
                },
                "initialIdle": function(ms) {
                    // EVENT: Started Reading
                    ga('send', {
                        hitType:       'event',
                        eventCategory: 'Scrolling',
                        eventAction:   'begun',
                        eventValue:    String(ms)
                    });
                },
                "timeSpent": function(total, active, curIdle, initIdle, longestIdle) {
                    // Update METRIC(S)?
                    ga('set', AnalyticMetricActiveTime, String(active));
                    ga('set', AnalyticMetricLongestIdleTime, String(longestIdle));
                },
                "idle": function(ms) {
                },
                "longestIdle": function(ms) {
                }
            }

            window.onload = function() {
                myAnalyticsInit(gaCallbacks);

                //
                // Initial dimensions & metrics
                //

                ga('set', AnalyticMetricReadCount, String(0));

                // EVENT: Page load
                ga('send', {
                    hitType:       'event',
                    eventCategory: 'pageLoad',
                    eventAction:   'begun',
                    eventValue:    String(ms)
                });

                // DIMENSION: visitor
                ga('set', AnalyticDimensionReaderKind, "visitor");
            }
        </script>
    </body>
</html>
