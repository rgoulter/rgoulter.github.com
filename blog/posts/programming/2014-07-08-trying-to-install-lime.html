<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Trying to Install Lime - Richard Goulter's Blog</title>

        <!-- My (Old) CSS theme -->
        <link rel="stylesheet" type="text/css" href="../../css/default.css" />

        <!--
            jQuery & jQueryUI
        -->
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script src="https://code.jquery.com/ui/1.11.3/jquery-ui.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.11.3/themes/smoothness/jquery-ui.css" />

        <!--
            Pandoc Style CSS
            (for syntax highlighted snippets)
        -->
        <link rel="stylesheet" type="text/css" href="../../css/syntax.css" />

        <!--
            Bootstrap
        -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

        <style>
            /*
             * Bootstrap defines blockquote as 17px,
             * so it looks stupidly large in my blogposts. */
            blockquote {
                font-size: 14px;
            }
        </style>

        <!--
            Waypoints, and Waypoints-Sticky,
            so we can do this:
            http://imakewebthings.com/waypoints/shortcuts/sticky-elements/
        -->
        <script src="../../js/jquery.waypoints.min.js"></script>
        <script src="../../js/sticky.min.js"></script>

        <!-- My analytics stuff -->
        <script src="../../js/my_analytics.js"></script>
        <script src="../../js/my_analytics_debug.js"></script>

        <!--
            TOCify
        -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js"></script>
        <!--
            Patched TOCify css file.
            (Don't want fixed `.tocify`).
        -->
        <link rel="stylesheet" type="text/css" href="../../css/jquery.tocify.css" />

        <style>
        .navbar {
            margin-bottom: 0px;
        }

        .banner-image {
            width:100%;
        }

        .banner {
            margin-left: 0px;
            margin-right: 0px;
        }

        body {
            background-color: #e2e2e2;
        }

        #page {
            padding-left:0;
            padding-right:0;
            background-color: #ffffff;
        }
        </style>

        <!-- Google Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-73116015-1', 'auto');
          ga('send', 'pageview');
        </script>
    </head>
    <body>
        <div id="page" class="container">
            <!-- This, with no padding on left/right -->
            <div class="banner">
                <nav class="navbar navbar-default">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>

            <!-- The Hamburger -->
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../">Richard Goulter's Blog</a>
    </div>

    <div class="collapse navbar-collapse" id="navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
            <li><a href="../../">Home</a></li>
            <li><a href="../../yi.html">Yi</a></li>
            <li><a href="../../emacs.html">Emacs</a></li>
            <li><a href="../../archive.html">Archive</a></li>
        </ul>
    </div>
</nav>

            </div>

            <hr style="margin: 0px; border-top: 5px solid black;" />

            <div id="content" class="container">
                <h1>Trying to Install Lime</h1>
                <div class="info">
    Posted on July  8, 2014
    
        by Richard Goulter
    <br />
    
    Tags: <a href="../../tags/programming.go.html">programming.go</a>, <a href="../../tags/programming.lime.html">programming.lime</a>, <a href="../../tags/programming.editors.html">programming.editors</a>
    
</div>

<p><a href="https://github.com/limetext/lime">Lime</a> is in that category of obscure and in development text editors. If the name isn’t a hint, Lime is a clone of Sublime Text, a popular cross-platform text editor which students will either pirate or just use without registering. (Just like good ol’ WinZip).<br />
(Well, I’m not sure if it’s fair to call these editors “obscure”. NeoVim, LightTable, Atom have 6-8k stars. I <em>thought</em> ST2 was open source, but I can’t find a repo for it).</p>
<p>While a strong motivation for open-source-ness is “yay free stuff”, there’s an interesting comment in the README:</p>
<blockquote>
<p>I love the Sublime Text editor. I have created several plugins to make it even better. One thing that scares me though is that it is not open sourced and the pace of nightly releases have recently been anything but nightly, even now that version 3 is out in Beta.</p>
<p>There was a period of about 6 months after the Sublime Text 2 “stable” version was released where pretty much nothing at all was communicated to the users about what to expect in the future, nor was there much support offered in the forums. People including myself were wondering if the product was dead and I personally wondered what would happen to all the bugs, crashes and annoyances that still existed in ST2. This lack of communication is a dealbreaker to me and I decided that I will not spend any more money on that product because of it.</p>
</blockquote>
<p>It seems Lime has a ‘backend’ written in Go, with the possibility of writing a frontend in whichever language. (This architecture sounds like what NeoVim is aiming for).</p>
<p>Anyway. I wanted to try and Install it.<br />
I’m not a Go user.<br />
I have run into several difficulties trying to install this on OSX.</p>
<p>After <a href="https://github.com/limetext/lime/wiki/Building">installing dependencies</a>, and then more/less following the “Quickstart” <a href="https://github.com/limetext/lime/wiki/Ubuntu-13.10-(and-probably-others)-quickstart">here</a>.</p>
<p>On OSX, trying a Go installation with <code>brew install go</code> isn’t even capable of running <code>go run hello.go</code> as per <a href="http://golang.org/doc/install">install instructions here</a> (if hello.go uses package <code>fmt</code>, then it won’t be able to find that).<br />
(Of course, but not apparent to a non-Go user, don’t even try <code>go get</code> whatever without having set <code>GOROOT</code>, <code>GOPATH</code>).</p>
<p>Installing using a <code>.pkg</code> from <a href="http://golang.org/dl/">here</a>, I then get errors as per:</p>
<pre><code>$ go get github.com/limetext/lime/frontend/termbox
# github.com/limetext/gopy/lib
panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xb code=0x1 addr=0x0 pc=0x15672]
 
goroutine 16 [running]:
runtime.panic(0x1dae60, 0x31b9e4)
    /usr/local/go/src/pkg/runtime/panic.c:279 +0xf5
main.(*typeConv).Type(0x2087f71e0, 0x220838dce0, 0x2086c2ab0, 0x3f43c, 0x26d420)
    /usr/local/go/src/cmd/cgo/gcc.go:1288 +0x1632
main.(*typeConv).Struct(0x2087f71e0, 0x2087ab8c0, 0x3f43c, 0x6, 0x0, 0x0, 0x0)
    /usr/local/go/src/cmd/cgo/gcc.go:1551 +0x70b
main.(*typeConv).Type(0x2087f71e0, 0x220838dd18, 0x2087ab8c0, 0x3f43c, 0x2087a0101)
    /usr/local/go/src/cmd/cgo/gcc.go:1234 +0x3038
main.(*typeConv).Type(0x2087f71e0, 0x220838dca8, 0x2086c2990, 0x3f43c, 0x0)
    /usr/local/go/src/cmd/cgo/gcc.go:1189 +0x3dd6
main.(*typeConv).Struct(0x2087f71e0, 0x2087ab6e0, 0x3f43c, 0x6, 0x0, 0x0, 0x8)
    /usr/local/go/src/cmd/cgo/gcc.go:1551 +0x70b
main.(*typeConv).Type(0x2087f71e0, 0x220838dd18, 0x2087ab6e0, 0x3f43c, 0x2085ed2c0)
    /usr/local/go/src/cmd/cgo/gcc.go:1234 +0x3038
main.(*typeConv).Type(0x2087f71e0, 0x220838dce0, 0x2086c2690, 0x3f43c, 0x26d420)
    /usr/local/go/src/cmd/cgo/gcc.go:1269 +0x1301
main.(*typeConv).Struct(0x2087f71e0, 0x2087ab5c0, 0x3f43c, 0x6, 0x0, 0x0, 0x0)
    /usr/local/go/src/cmd/cgo/gcc.go:1551 +0x70b
main.(*typeConv).Type(0x2087f71e0, 0x220838dd18, 0x2087ab5c0, 0x3f43c, 0x2085368c0)
    /usr/local/go/src/cmd/cgo/gcc.go:1234 +0x3038
main.(*typeConv).Type(0x2087f71e0, 0x220838dce0, 0x2086c25d0, 0x3f43c, 0x26d420)
    /usr/local/go/src/cmd/cgo/gcc.go:1269 +0x1301
main.(*typeConv).Struct(0x2087f71e0, 0x2087ab500, 0x3f43c, 0x6, 0x0, 0x0, 0x0)
    /usr/local/go/src/cmd/cgo/gcc.go:1551 +0x70b
main.(*typeConv).Type(0x2087f71e0, 0x220838dd18, 0x2087ab500, 0x3f43c, 0x2085366c0)
    /usr/local/go/src/cmd/cgo/gcc.go:1234 +0x3038
main.(*typeConv).Type(0x2087f71e0, 0x220838dce0, 0x2086c2510, 0x3f43c, 0x1)
    /usr/local/go/src/cmd/cgo/gcc.go:1269 +0x1301
main.(*Package).loadDWARF(0x20836ec30, 0x208677180, 0x208698e00, 0x1a, 0x20)
    /usr/local/go/src/cmd/cgo/gcc.go:541 +0xfb4
main.(*Package).Translate(0x20836ec30, 0x208677180)
    /usr/local/go/src/cmd/cgo/gcc.go:182 +0x150
main.main()
    /usr/local/go/src/cmd/cgo/main.go:259 +0xef1
 
goroutine 19 [finalizer wait]:
runtime.park(0x4fed0, 0x31feb8, 0x31f269)
    /usr/local/go/src/pkg/runtime/proc.c:1369 +0x89
runtime.parkunlock(0x31feb8, 0x31f269)
    /usr/local/go/src/pkg/runtime/proc.c:1385 +0x3b
runfinq()
    /usr/local/go/src/pkg/runtime/mgc0.c:2644 +0xcf
runtime.goexit()
    /usr/local/go/src/pkg/runtime/proc.c:1445</code></pre>
<p>Presumably this is because CGo wants <em>GCC</em>, not just any C compiler like Clang.<br />
(I’ve also run into GCC vs Clang with Haskell. GHC has a patch..).</p>
<p>Trying out <code>go env</code> lists where it chooses that, so setting <code>CC</code> to <code>gcc-4.8</code> and <code>CXX</code> to <code>g++-4.8</code>, I then get errors as per:</p>
<pre><code>$ go get github.com/limetext/lime/frontend/termbox
# github.com/limetext/gopy/lib
../src/github.com/limetext/gopy/lib/bool.go:38: cannot use c(obj) (type *C.struct__object) as type *C.PyObject in argument to _Cfunc_boolCheck
../src/github.com/limetext/gopy/lib/code.go:32: cannot use ret (type *C.PyObject) as type *C.struct__object in argument to newCode
../src/github.com/limetext/gopy/lib/code.go:39: cannot use c(obj) (type *C.struct__object) as type *C.PyObject in argument to _Cfunc_codeCheck
../src/github.com/limetext/gopy/lib/code.go:44: cannot use pyCode (type *C.struct__object) as type *C.PyObject in argument to _Cfunc_PyEval_EvalCode
../src/github.com/limetext/gopy/lib/code.go:44: cannot use c(globals) (type *C.struct__object) as type *C.PyObject in argument to _Cfunc_PyEval_EvalCode
../src/github.com/limetext/gopy/lib/code.go:44: cannot use c(locals) (type *C.struct__object) as type *C.PyObject in argument to _Cfunc_PyEval_EvalCode
../src/github.com/limetext/gopy/lib/code.go:45: cannot use ret (type *C.PyObject) as type *C.struct__object in argument to obj2ObjErr</code></pre>
<p>’tis rather frustrating, and I think I can declare Lime “Hard to Install”..<br />
(But also, I’m curious as to how to get around this, still. Maybe a more recent Python 3.3 install.. Maybe a more recent GCC install..).</p>


<hr />

<div>
    
    <a href="../../posts/romance/2014-07-16-readers-and-lists-on-goodreads.html" style="float:left;">Newer post</a>
    
    
    <a href="../../posts/programming/2014-07-07-notes-from-some-examination-of-some-yi-configs.html" style="float:right; text-align: right;">Older post</a>
    
</div>
<br style="clear: both;" />

<hr />

<!-- Load highlight.js for Syntax Highlighting. -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_light.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


            </div>

            <hr style="margin-bottom: 0px; border-top: 2px solid black;" />

            <div id="footer" class="pull-right" style="padding-right: 10px;">
                Site proudly generated by
                <a href="http://jaspervdj.be/hakyll">Hakyll</a>
            </div>
        </div>

        <script>
            // The callbacks we wanna use
            // Phone-home, telling Google Analytics various metrics/dimensions

            // Use custom dimensions & metrics
            var AnalyticDimensionReaderKind = 'dimension1';
            var AnalyticMetricActiveTime      = 'metric1';
            var AnalyticMetricLongestIdleTime = 'metric2';
            var AnalyticMetricReadCount       = 'metric3';

            var gaCallbacks = {
                "scrollPercent": function(ms, perc) {
                    if (perc > 85) {
                        // EVENT: Page read
                        ga('send', {
                            hitType:       'event',
                            eventCategory: 'Scrolling',
                            eventAction:   'atBottom',
                            eventValue:    String(ms)
                        });
                    }
                },
                "read": function(ms, ct, timeToReach) {
                    // Use this to set DIMENSION
                    // timeToReach < 5s ==> Skim (default = Visitor)
                    if (timeToReach < 5 * 1000) {
                        // dimension1 = ReaderKind
                        ga('set', AnalyticDimensionReaderKind, "skimmer");
                    }

                    // timeToReach > 30s ==> Reader
                    if (timeToReach > 30 * 1000) {
                        // dimension1 = ReaderKind
                        ga('set', AnalyticDimensionReaderKind, "reader");
                    }

                    // EVENT: Page read
                    ga('send', {
                        hitType:       'event',
                        eventCategory: 'Reading',
                        eventAction:   'read',
                        eventValue:    String(timeToReach)
                    });

                    // METRIC
                    ga('set', AnalyticMetricReadCount, String(ct));
                },
                "initialIdle": function(ms) {
                    // EVENT: Started Reading
                    ga('send', {
                        hitType:       'event',
                        eventCategory: 'Scrolling',
                        eventAction:   'begun',
                        eventValue:    String(ms)
                    });
                },
                "timeSpent": function(total, active, curIdle, initIdle, longestIdle) {
                    // Update METRIC(S)?
                    ga('set', AnalyticMetricActiveTime, String(active));
                    ga('set', AnalyticMetricLongestIdleTime, String(longestIdle));
                },
                "idle": function(ms) {
                },
                "longestIdle": function(ms) {
                }
            }

            window.onload = function() {
                myAnalyticsInit(gaCallbacks);

                //
                // Initial dimensions & metrics
                //

                ga('set', AnalyticMetricReadCount, String(0));

                // EVENT: Page load
                ga('send', {
                    hitType:       'event',
                    eventCategory: 'pageLoad',
                    eventAction:   'begun',
                    eventValue:    String(ms)
                });

                // DIMENSION: visitor
                ga('set', AnalyticDimensionReaderKind, "visitor");
            }
        </script>
    </body>
</html>
